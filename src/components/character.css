.char-wrap { position: relative; display: grid; place-items: center; }
.tier-banner {
  position: absolute; top: -36px; left: -30px;
  z-index: 3; /* keep above theme/background */
  display: inline-flex; align-items: center; gap: 8px;
  padding: 6px 14px; border-radius: 999px;
  background: rgba(15, 23, 42, 0.88);
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.35);
  backdrop-filter: blur(8px);
  color: #f8fafc; font-size: 12px; font-weight: 600; letter-spacing: .04em;
  text-transform: uppercase;
}
.tier-icon { font-size: 13px; line-height: 1; color: #facc15; }
.tier-label { letter-spacing: .08em; }
.tier-sep { width: 1px; height: 16px; background: rgba(248, 250, 252, 0.2); }
.tier-rank { font-size: 11px; font-weight: 500; color: rgba(226, 232, 240, 0.8); min-width: 56px; text-align: center; display: inline-grid; align-items: center; justify-items: center; letter-spacing: .12em; line-height: 1.1; }
.tier-rank .tier-word { display:block; }
.tier-rank .tier-num { display:block; font-weight:700; margin-top:2px; }

.char-badge {
  width: 92px; height: 92px; border-radius: 50%;
  position: relative; display:grid; place-items:center;
  box-shadow: 0 10px 28px rgba(0,0,0,.18), inset 0 0 0 2px rgba(255,255,255,.6);
  overflow:hidden;
}
.char-glow { position:absolute; inset:0; background:radial-gradient(circle at 30% 30%, #fff7, transparent 60%); }
.char-emoji { font-size: 38px; transform: translateY(2px); }

.char-level {
  position: absolute; bottom: -10px; background: #111827; color: #fff;
  padding: 2px 8px; font-size: 12px; border-radius: 999px; box-shadow: 0 6px 14px rgba(0,0,0,.25);
}

.celebrate .char-badge { animation: hop .8s ease-in-out 2; }
@keyframes hop {
  0% { transform: translateY(0) scale(1); }
  30% { transform: translateY(-10px) scale(1.05); }
  60% { transform: translateY(0) scale(1); }
  100% { transform: translateY(-6px) scale(1.03); }
}

/* simple confetti */
.confetti { position:absolute; inset: -10px; pointer-events:none; overflow:hidden; }
.confetti span {
  --i: 0;
  position:absolute; top: 0; left: 50%;
  width: 6px; height: 10px; background: hsl(calc(var(--i)*15), 90%, 60%);
  transform: translateX(calc((var(--i) - 12) * 6px)) rotate(0deg);
  animation: drop 1.2s ease-out forwards;
  border-radius: 2px;
}
@keyframes drop {
  0% { opacity: 0; transform: translateY(-10px) translateX(0) rotate(0); }
  20% { opacity: 1; }
  100% { opacity: 0; transform: translateY(120px) translateX(calc((var(--i) - 12) * 10px)) rotate(240deg); }
}
